var a=class{withFields(t){let r=Object.keys(this).map(n=>n in t?t[n]:this[n]);return new this.constructor(...r)}},q=class{static fromArray(t,r){let n=r||new Re;for(let i=t.length-1;i>=0;--i)n=new ge(t[i],n);return n}[Symbol.iterator](){return new wt(this)}toArray(){return[...this]}atLeastLength(t){for(let r of this){if(t<=0)return!0;t--}return t<=0}hasLength(t){for(let r of this){if(t<=0)return!1;t--}return t===0}countLength(){let t=0;for(let r of this)t++;return t}};function p(e,t){return new ge(e,t)}function c(e,t){return q.fromArray(e,t)}var wt=class{#e;constructor(t){this.#e=t}next(){if(this.#e instanceof Re)return{done:!0};{let{head:t,tail:r}=this.#e;return this.#e=r,{value:t,done:!1}}}},Re=class extends q{},ge=class extends q{constructor(t,r){super(),this.head=t,this.tail=r}},De=class e{constructor(t){if(!(t instanceof Uint8Array))throw"BitArray can only be constructed from a Uint8Array";this.buffer=t}get length(){return this.buffer.length}byteAt(t){return this.buffer[t]}floatFromSlice(t,r,n){return qn(this.buffer,t,r,n)}intFromSlice(t,r,n,i){return An(this.buffer,t,r,n,i)}binaryFromSlice(t,r){return new e(this.buffer.slice(t,r))}sliceAfter(t){return new e(this.buffer.slice(t))}};function An(e,t,r,n,i){let s=0;if(n)for(let o=t;o<r;o++)s=s*256+e[o];else for(let o=r-1;o>=t;o--)s=s*256+e[o];if(i){let u=2**((r-t)*8-1);s>=u&&(s-=u*2)}return s}function qn(e,t,r,n){let i=new DataView(e.buffer),s=r-t;if(s===8)return i.getFloat64(t,!n);if(s===4)return i.getFloat32(t,!n);{let o=`Sized floats must be 32-bit or 64-bit on JavaScript, got size of ${s*8} bits`;throw new globalThis.Error(o)}}var ie=class e extends a{static isResult(t){return t instanceof e}},d=class extends ie{constructor(t){super(),this[0]=t}isOk(){return!0}},m=class extends ie{constructor(t){super(),this[0]=t}isOk(){return!1}};function g(e,t){let r=[e,t];for(;r.length;){let n=r.pop(),i=r.pop();if(n===i)continue;if(!hr(n)||!hr(i)||!Bn(n,i)||Tn(n,i)||Cn(n,i)||Nn(n,i)||zn(n,i)||In(n,i)||Fn(n,i))return!1;let o=Object.getPrototypeOf(n);if(o!==null&&typeof o.equals=="function")try{if(n.equals(i))continue;return!1}catch{}let[u,l]=Sn(n);for(let f of u(n))r.push(l(n,f),l(i,f))}return!0}function Sn(e){if(e instanceof Map)return[t=>t.keys(),(t,r)=>t.get(r)];{let t=e instanceof globalThis.Error?["message"]:[];return[r=>[...t,...Object.keys(r)],(r,n)=>r[n]]}}function Tn(e,t){return e instanceof Date&&(e>t||e<t)}function Cn(e,t){return e.buffer instanceof ArrayBuffer&&e.BYTES_PER_ELEMENT&&!(e.byteLength===t.byteLength&&e.every((r,n)=>r===t[n]))}function Nn(e,t){return Array.isArray(e)&&e.length!==t.length}function zn(e,t){return e instanceof Map&&e.size!==t.size}function In(e,t){return e instanceof Set&&(e.size!=t.size||[...e].some(r=>!t.has(r)))}function Fn(e,t){return e instanceof RegExp&&(e.source!==t.source||e.flags!==t.flags)}function hr(e){return typeof e=="object"&&e!==null}function Bn(e,t){return typeof e!="object"&&typeof t!="object"&&(!e||!t)||[Promise,WeakSet,WeakMap,Function].some(n=>e instanceof n)?!1:e.constructor===t.constructor}function ye(e,t,r,n,i,s){let o=new globalThis.Error(i);o.gleam_error=e,o.module=t,o.line=r,o.fn=n;for(let u in s)o[u]=s[u];return o}function V(e,t,r){return e?t:r()}var h=class extends a{constructor(t){super(),this[0]=t}},_=class extends a{};function ke(e,t){if(e instanceof h){let r=e[0];return new d(r)}else return new m(t)}function We(e){return wr(e)}function S(e){return gr(e)}function $r(e,t){return e>t?e:t}function yr(e,t){return[e,t]}function Dn(e,t){for(;;){let r=e,n=t;if(r.hasLength(0))return n;{let i=r.head;e=r.tail,t=p(i,n)}}}function A(e){return Dn(e,c([]))}function Pn(e,t,r){for(;;){let n=e,i=t,s=r;if(n.hasLength(0))return A(s);{let o=n.head,u=n.tail,l=i(o)?p(o,s):s;e=u,t=i,r=l}}}function kr(e,t){return Pn(e,t,c([]))}function Un(e,t,r){for(;;){let n=e,i=t,s=r;if(n.hasLength(0))return A(s);{let o=n.head,u=n.tail,l=(()=>{let f=i(o);if(f.isOk()){let x=f[0];return p(x,s)}else return s})();e=u,t=i,r=l}}}function Oe(e,t){return Un(e,t,c([]))}function Wn(e,t,r){for(;;){let n=e,i=t,s=r;if(n.hasLength(0))return A(s);{let o=n.head;e=n.tail,t=i,r=p(i(o),s)}}}function W(e,t){return Wn(e,t,c([]))}function Hn(e,t,r,n){for(;;){let i=e,s=t,o=r,u=n;if(i.hasLength(0))return A(u);{let l=i.head,f=i.tail,x=p(s(l,o),u);e=f,t=s,r=o+1,n=x}}}function bt(e,t){return Hn(e,t,0,c([]))}function Or(e,t){for(;;){let r=e,n=t;if(n<=0)return r;if(r.hasLength(0))return c([]);e=r.tail,t=n-1}}function Gn(e,t,r){for(;;){let n=e,i=t,s=r;if(i<=0)return A(s);if(n.hasLength(0))return A(s);{let u=n.head;e=n.tail,t=i-1,r=p(u,s)}}}function kt(e,t){return Gn(e,t,c([]))}function Vn(e,t){for(;;){let r=e,n=t;if(r.hasLength(0))return n;{let i=r.head;e=r.tail,t=p(i,n)}}}function le(e,t){return Vn(A(e),t)}function H(e,t,r){for(;;){let n=e,i=t,s=r;if(n.hasLength(0))return i;{let o=n.head;e=n.tail,t=s(i,o),r=s}}}function Le(e,t,r){if(e.hasLength(0))return t;{let n=e.head,i=e.tail;return r(Le(i,t,r),n)}}function Jn(e,t,r,n){for(;;){let i=e,s=t,o=r,u=n;if(i.hasLength(0))return s;{let l=i.head;e=i.tail,t=o(s,l,u),r=o,n=u+1}}}function Ot(e,t,r){return Jn(e,t,r,0)}function Yn(e,t,r){for(;;){let n=e,i=t,s=r;if(n.hasLength(0))return A(s);{let o=n.head;e=n.tail,t=i,r=p(o,p(i,s))}}}function Lt(e,t){if(e.hasLength(0))return e;if(e.hasLength(1))return e;{let r=e.head,n=e.tail;return Yn(n,t,c([r]))}}function J(e,t){if(e.isOk()){let r=e[0];return new d(t(r))}else{let r=e[0];return new m(r)}}function vt(e,t){if(e.isOk()){let r=e[0];return new d(r)}else{let r=e[0];return new m(t(r))}}function B(e,t){if(e.isOk()){let r=e[0];return t(r)}else{let r=e[0];return new m(r)}}function He(e,t){return B(e,t)}function jt(e,t){return e.isOk()?e[0]:t}function fe(e){return Ve(e)}function Lr(e){return Ve(e)}function Ge(e){return e}function Q(e){return e}function Er(e){return qr(e)}function Ar(e,t){return Sr(e,t)}function At(e){let r=fe(e);return Q(r)}function jr(e,t,r){let i=Et(e),s=Or(i,t),o=kt(s,r);return At(o)}function ri(e,t,r){if(r<0)return"";if(t<0){let s=Er(e)+t;return s<0?"":jr(e,s,r)}else return jr(e,t,r)}function qt(e,t){return t<0?e:ri(e,t,Er(e)-t)}var ae=class extends a{constructor(t,r,n){super(),this.expected=t,this.found=r,this.path=n}};function Tr(e){return new d(e)}function St(e){return Tt(e)}function si(e){return zr(e)}function Cr(e){return t=>{if(e.hasLength(0))return new m(c([new ae("another type",St(t),c([]))]));{let r=e.head,n=e.tail,i=r(t);if(i.isOk()){let s=i[0];return new d(s)}else return Cr(n)(t)}}}function oi(e,t){let r=t,n=Cr(c([je,s=>J(si(s),S)])),i=(()=>{let s=n(r);if(s.isOk())return s[0];{let o=c(["<",St(r),">"]),u=fe(o);return Q(u)}})();return e.withFields({path:p(i,e.path)})}function ui(e,t){return vt(e,r=>W(r,t))}function je(e){return Nr(e)}function Ee(e,t){return r=>{let n=new ae("field","nothing",c([]));return B(Ir(r,e),i=>{let o=ke(i,c([n])),u=B(o,t);return ui(u,l=>oi(l,e))})}}var Fr=new WeakMap,Ct=new DataView(new ArrayBuffer(8)),Nt=0;function zt(e){let t=Fr.get(e);if(t!==void 0)return t;let r=Nt++;return Nt===2147483647&&(Nt=0),Fr.set(e,r),r}function It(e,t){return e^t+2654435769+(e<<6)+(e>>2)|0}function Bt(e){let t=0,r=e.length;for(let n=0;n<r;n++)t=Math.imul(31,t)+e.charCodeAt(n)|0;return t}function Br(e){Ct.setFloat64(0,e);let t=Ct.getInt32(0),r=Ct.getInt32(4);return Math.imul(73244475,t>>16^t)^r}function li(e){return Bt(e.toString())}function ci(e){let t=Object.getPrototypeOf(e);if(t!==null&&typeof t.hashCode=="function")try{let n=e.hashCode(e);if(typeof n=="number")return n}catch{}if(e instanceof Promise||e instanceof WeakSet||e instanceof WeakMap)return zt(e);if(e instanceof Date)return Br(e.getTime());let r=0;if(e instanceof ArrayBuffer&&(e=new Uint8Array(e)),Array.isArray(e)||e instanceof Uint8Array)for(let n=0;n<e.length;n++)r=Math.imul(31,r)+N(e[n])|0;else if(e instanceof Set)e.forEach(n=>{r=r+N(n)|0});else if(e instanceof Map)e.forEach((n,i)=>{r=r+It(N(n),N(i))|0});else{let n=Object.keys(e);for(let i=0;i<n.length;i++){let s=n[i],o=e[s];r=r+It(N(o),Bt(s))|0}}return r}function N(e){if(e===null)return 1108378658;if(e===void 0)return 1108378659;if(e===!0)return 1108378657;if(e===!1)return 1108378656;switch(typeof e){case"number":return Br(e);case"string":return Bt(e);case"bigint":return li(e);case"object":return ci(e);case"symbol":return zt(e);case"function":return zt(e);default:return 0}}var R=5,Mt=Math.pow(2,R),fi=Mt-1,ai=Mt/2,pi=Mt/4,j=0,M=1,T=2,te=3,Rt={type:T,bitmap:0,array:[]};function Ae(e,t){return e>>>t&fi}function Ke(e,t){return 1<<Ae(e,t)}function di(e){return e-=e>>1&1431655765,e=(e&858993459)+(e>>2&858993459),e=e+(e>>4)&252645135,e+=e>>8,e+=e>>16,e&127}function Dt(e,t){return di(e&t-1)}function z(e,t,r){let n=e.length,i=new Array(n);for(let s=0;s<n;++s)i[s]=e[s];return i[t]=r,i}function mi(e,t,r){let n=e.length,i=new Array(n+1),s=0,o=0;for(;s<t;)i[o++]=e[s++];for(i[o++]=r;s<n;)i[o++]=e[s++];return i}function Ft(e,t){let r=e.length,n=new Array(r-1),i=0,s=0;for(;i<t;)n[s++]=e[i++];for(++i;i<r;)n[s++]=e[i++];return n}function Mr(e,t,r,n,i,s){let o=N(t);if(o===n)return{type:te,hash:o,array:[{type:j,k:t,v:r},{type:j,k:i,v:s}]};let u={val:!1};return qe(Pt(Rt,e,o,t,r,u),e,n,i,s,u)}function qe(e,t,r,n,i,s){switch(e.type){case M:return hi(e,t,r,n,i,s);case T:return Pt(e,t,r,n,i,s);case te:return _i(e,t,r,n,i,s)}}function hi(e,t,r,n,i,s){let o=Ae(r,t),u=e.array[o];if(u===void 0)return s.val=!0,{type:M,size:e.size+1,array:z(e.array,o,{type:j,k:n,v:i})};if(u.type===j)return g(n,u.k)?i===u.v?e:{type:M,size:e.size,array:z(e.array,o,{type:j,k:n,v:i})}:(s.val=!0,{type:M,size:e.size,array:z(e.array,o,Mr(t+R,u.k,u.v,r,n,i))});let l=qe(u,t+R,r,n,i,s);return l===u?e:{type:M,size:e.size,array:z(e.array,o,l)}}function Pt(e,t,r,n,i,s){let o=Ke(r,t),u=Dt(e.bitmap,o);if(e.bitmap&o){let l=e.array[u];if(l.type!==j){let x=qe(l,t+R,r,n,i,s);return x===l?e:{type:T,bitmap:e.bitmap,array:z(e.array,u,x)}}let f=l.k;return g(n,f)?i===l.v?e:{type:T,bitmap:e.bitmap,array:z(e.array,u,{type:j,k:n,v:i})}:(s.val=!0,{type:T,bitmap:e.bitmap,array:z(e.array,u,Mr(t+R,f,l.v,r,n,i))})}else{let l=e.array.length;if(l>=ai){let f=new Array(32),x=Ae(r,t);f[x]=Pt(Rt,t+R,r,n,i,s);let b=0,O=e.bitmap;for(let I=0;I<32;I++){if(O&1){let E=e.array[b++];f[I]=E}O=O>>>1}return{type:M,size:l+1,array:f}}else{let f=mi(e.array,u,{type:j,k:n,v:i});return s.val=!0,{type:T,bitmap:e.bitmap|o,array:f}}}}function _i(e,t,r,n,i,s){if(r===e.hash){let o=Ut(e,n);if(o!==-1)return e.array[o].v===i?e:{type:te,hash:r,array:z(e.array,o,{type:j,k:n,v:i})};let u=e.array.length;return s.val=!0,{type:te,hash:r,array:z(e.array,u,{type:j,k:n,v:i})}}return qe({type:T,bitmap:Ke(e.hash,t),array:[e]},t,r,n,i,s)}function Ut(e,t){let r=e.array.length;for(let n=0;n<r;n++)if(g(t,e.array[n].k))return n;return-1}function Ye(e,t,r,n){switch(e.type){case M:return xi(e,t,r,n);case T:return $i(e,t,r,n);case te:return wi(e,n)}}function xi(e,t,r,n){let i=Ae(r,t),s=e.array[i];if(s!==void 0){if(s.type!==j)return Ye(s,t+R,r,n);if(g(n,s.k))return s}}function $i(e,t,r,n){let i=Ke(r,t);if(!(e.bitmap&i))return;let s=Dt(e.bitmap,i),o=e.array[s];if(o.type!==j)return Ye(o,t+R,r,n);if(g(n,o.k))return o}function wi(e,t){let r=Ut(e,t);if(!(r<0))return e.array[r]}function Wt(e,t,r,n){switch(e.type){case M:return gi(e,t,r,n);case T:return yi(e,t,r,n);case te:return bi(e,n)}}function gi(e,t,r,n){let i=Ae(r,t),s=e.array[i];if(s===void 0)return e;let o;if(s.type===j){if(!g(s.k,n))return e}else if(o=Wt(s,t+R,r,n),o===s)return e;if(o===void 0){if(e.size<=pi){let u=e.array,l=new Array(e.size-1),f=0,x=0,b=0;for(;f<i;){let O=u[f];O!==void 0&&(l[x]=O,b|=1<<f,++x),++f}for(++f;f<u.length;){let O=u[f];O!==void 0&&(l[x]=O,b|=1<<f,++x),++f}return{type:T,bitmap:b,array:l}}return{type:M,size:e.size-1,array:z(e.array,i,o)}}return{type:M,size:e.size,array:z(e.array,i,o)}}function yi(e,t,r,n){let i=Ke(r,t);if(!(e.bitmap&i))return e;let s=Dt(e.bitmap,i),o=e.array[s];if(o.type!==j){let u=Wt(o,t+R,r,n);return u===o?e:u!==void 0?{type:T,bitmap:e.bitmap,array:z(e.array,s,u)}:e.bitmap===i?void 0:{type:T,bitmap:e.bitmap^i,array:Ft(e.array,s)}}return g(n,o.k)?e.bitmap===i?void 0:{type:T,bitmap:e.bitmap^i,array:Ft(e.array,s)}:e}function bi(e,t){let r=Ut(e,t);if(r<0)return e;if(e.array.length!==1)return{type:te,hash:e.hash,array:Ft(e.array,r)}}function Rr(e,t){if(e===void 0)return;let r=e.array,n=r.length;for(let i=0;i<n;i++){let s=r[i];if(s!==void 0){if(s.type===j){t(s.v,s.k);continue}Rr(s,t)}}}var re=class e{static fromObject(t){let r=Object.keys(t),n=e.new();for(let i=0;i<r.length;i++){let s=r[i];n=n.set(s,t[s])}return n}static fromMap(t){let r=e.new();return t.forEach((n,i)=>{r=r.set(i,n)}),r}static new(){return new e(void 0,0)}constructor(t,r){this.root=t,this.size=r}get(t,r){if(this.root===void 0)return r;let n=Ye(this.root,0,N(t),t);return n===void 0?r:n.v}set(t,r){let n={val:!1},i=this.root===void 0?Rt:this.root,s=qe(i,0,N(t),t,r,n);return s===this.root?this:new e(s,n.val?this.size+1:this.size)}delete(t){if(this.root===void 0)return this;let r=Wt(this.root,0,N(t),t);return r===this.root?this:r===void 0?e.new():new e(r,this.size-1)}has(t){return this.root===void 0?!1:Ye(this.root,0,N(t),t)!==void 0}entries(){if(this.root===void 0)return[];let t=[];return this.forEach((r,n)=>t.push([n,r])),t}forEach(t){Rr(this.root,t)}hashCode(){let t=0;return this.forEach((r,n)=>{t=t+It(N(r),N(n))|0}),t}equals(t){if(!(t instanceof e)||this.size!==t.size)return!1;let r=!0;return this.forEach((n,i)=>{r=r&&g(t.get(i,!n),n)}),r}};var Ht=void 0,Dr={};function wr(e){return/^[-+]?(\d+)$/.test(e)?new d(parseInt(e)):new m(Ht)}function gr(e){return e.toString()}function qr(e){if(e==="")return 0;let t=Wr(e);if(t){let r=0;for(let n of t)r++;return r}else return e.match(/./gsu).length}function Et(e){let t=Wr(e);return t?q.fromArray(Array.from(t).map(r=>r.segment)):q.fromArray(e.match(/./gsu))}function Wr(e){if(globalThis.Intl&&Intl.Segmenter)return new Intl.Segmenter().segment(e)[Symbol.iterator]()}function Ve(e){let t="";for(let r of e)t=t+r;return t}function Sr(e,t){return e.startsWith(t)}var Hr=[" ","	",`
`,"\v","\f","\r","\x85","\u2028","\u2029"].join(""),Ou=new RegExp(`^([${Hr}]*)`,"g"),Lu=new RegExp(`([${Hr}]*)$`,"g");function Gr(){return re.new()}function Je(e){return q.fromArray(e.entries())}function Vr(e,t){return t.delete(e)}function Gt(e,t){let r=e.get(t,Dr);return r===Dr?new m(Ht):new d(r)}function Jr(e,t,r){return r.set(e,t)}function Pr(e){return decodeURIComponent((e||"").replace("+"," "))}function Yr(e){return encodeURIComponent(e).replace("%2B","+")}function Kr(e){try{let t=[];for(let r of e.split("&")){let[n,i]=r.split("=");if(!n)continue;let s=Pr(n),o=Pr(i);t.push([s,o])}return new d(q.fromArray(t))}catch{return new m(Ht)}}function Tt(e){if(typeof e=="string")return"String";if(typeof e=="boolean")return"Bool";if(e instanceof ie)return"Result";if(e instanceof q)return"List";if(e instanceof De)return"BitArray";if(e instanceof re)return"Dict";if(Number.isInteger(e))return"Int";if(Array.isArray(e))return`Tuple of ${e.length} elements`;if(typeof e=="number")return"Float";if(e===null)return"Null";if(e===void 0)return"Nil";{let t=typeof e;return t.charAt(0).toUpperCase()+t.slice(1)}}function Vt(e,t){return ki(e,Tt(t))}function ki(e,t){return new m(q.fromArray([new ae(e,t,q.fromArray([]))]))}function Nr(e){return typeof e=="string"?new d(e):Vt("String",e)}function zr(e){return Number.isInteger(e)?new d(e):Vt("Int",e)}function Ir(e,t){let r=()=>Vt("Dict",e);if(e instanceof re||e instanceof WeakMap||e instanceof Map){let n=Gt(e,t);return new d(n.isOk()?new h(n[0]):new _)}else return e===null?r():Object.getPrototypeOf(e)==Object.prototype?Ur(e,t,()=>new d(new _)):Ur(e,t,r)}function Ur(e,t,r){try{return t in e?new d(new h(e[t])):r()}catch{return r()}}function C(){return Gr()}function ce(e,t){return Gt(e,t)}function G(e,t,r){return Jr(t,r,e)}function vi(e,t){for(;;){let r=e,n=t;if(r.hasLength(0))return n;{let i=r.head;e=r.tail,t=p(i,n)}}}function ji(e,t){for(;;){let r=e,n=t;if(r.hasLength(0))return vi(n,c([]));{let i=r.head;e=r.tail,t=p(i[0],n)}}}function Ei(e){let t=Je(e);return ji(t,c([]))}function Jt(e){return Ei(e)}function Xe(e,t){return Vr(t,e)}var de=class extends a{constructor(t,r,n,i,s,o,u){super(),this.scheme=t,this.userinfo=r,this.host=n,this.port=i,this.path=s,this.query=o,this.fragment=u}};function Qr(e){return Kr(e)}function Xr(e){return Yr(e)}function qi(e){return fe(c([Xr(e[0]),"=",Xr(e[1])]))}function en(e){let r=W(e,qi),n=Lt(r,Ge("&")),i=Lr(n);return Q(i)}function tn(e){let t=(()=>{let u=e.fragment;if(u instanceof h){let l=u[0];return c(["#",l])}else return c([])})(),r=(()=>{let u=e.query;if(u instanceof h){let l=u[0];return p("?",p(l,t))}else return t})(),n=p(e.path,r),i=(()=>{let u=e.host,l=Ar(e.path,"/");if(u instanceof h&&!l&&u[0]!==""){let f=u[0];return p("/",n)}else return n})(),s=(()=>{let u=e.host,l=e.port;if(u instanceof h&&l instanceof h){let f=l[0];return p(":",p(S(f),i))}else return i})(),o=(()=>{let u=e.scheme,l=e.userinfo,f=e.host;if(u instanceof h&&l instanceof h&&f instanceof h){let x=u[0],b=l[0],O=f[0];return p(x,p("://",p(b,p("@",p(O,s)))))}else if(u instanceof h&&l instanceof _&&f instanceof h){let x=u[0],b=f[0];return p(x,p("://",p(b,s)))}else if(u instanceof h&&l instanceof h&&f instanceof _){let x=u[0];return p(x,p(":",s))}else if(u instanceof h&&l instanceof _&&f instanceof _){let x=u[0];return p(x,p(":",s))}else if(u instanceof _&&l instanceof _&&f instanceof h){let x=f[0];return p("//",p(x,s))}else return s})();return At(o)}var Ze=class extends a{constructor(t){super(),this.all=t}};function Ni(e){return new Ze(c([t=>e(t.dispatch,t.emit,t.select)]))}function nn(e){return Ni((t,r,n)=>e(t))}function Qe(){return new Ze(c([]))}var me=class extends a{constructor(t){super(),this.content=t}},y=class extends a{constructor(t,r,n,i,s,o,u){super(),this.key=t,this.namespace=r,this.tag=n,this.attrs=i,this.children=s,this.self_closing=o,this.void=u}},ne=class extends a{constructor(t){super(),this.subtree=t}},K=class extends a{constructor(t,r){super(),this.elements=t,this.key=r}},he=class extends a{constructor(t,r,n){super(),this[0]=t,this[1]=r,this.as_property=n}},Se=class extends a{constructor(t,r){super(),this[0]=t,this[1]=r}};function Mi(e){if(e instanceof he)return new m(void 0);{let t=e[0],r=e[1],n=qt(t,2);return new d([n,r])}}function sn(e,t,r){return Ot(e,t,(n,i,s)=>{let o=r+"-"+S(s);return on(i,n,o)})}function on(e,t,r){for(;;){let n=e,i=t,s=r;if(n instanceof me)return i;if(n instanceof ne){let o=n.subtree;e=o(),t=i,r=s}else if(n instanceof y){let o=n.attrs,u=n.children,l=H(o,i,(f,x)=>{let b=Mi(x);if(b.isOk()){let O=b[0][0],I=b[0][1];return G(f,s+"-"+O,I)}else return f});return sn(u,l,s)}else{let o=n.elements;return sn(o,i,s)}}}function un(e){return on(e,C(),"0")}function Kt(e,t){return new he(e,t,!1)}function cn(e,t){return new Se("on"+e,t)}function k(e){return Kt("class",e)}function fn(e){return Kt("value",e)}function an(e){return Kt("src",e)}function D(e,t,r){return e==="area"?new y("","",e,t,c([]),!1,!0):e==="base"?new y("","",e,t,c([]),!1,!0):e==="br"?new y("","",e,t,c([]),!1,!0):e==="col"?new y("","",e,t,c([]),!1,!0):e==="embed"?new y("","",e,t,c([]),!1,!0):e==="hr"?new y("","",e,t,c([]),!1,!0):e==="img"?new y("","",e,t,c([]),!1,!0):e==="input"?new y("","",e,t,c([]),!1,!0):e==="link"?new y("","",e,t,c([]),!1,!0):e==="meta"?new y("","",e,t,c([]),!1,!0):e==="param"?new y("","",e,t,c([]),!1,!0):e==="source"?new y("","",e,t,c([]),!1,!0):e==="track"?new y("","",e,t,c([]),!1,!0):e==="wbr"?new y("","",e,t,c([]),!1,!0):new y("","",e,t,r,!1,!1)}function tt(e,t){if(e instanceof y){let r=e.namespace,n=e.tag,i=e.attrs,s=e.children,o=e.self_closing,u=e.void;return new y(t,r,n,i,s,o,u)}else if(e instanceof ne){let r=e.subtree;return new ne(()=>tt(r(),t))}else if(e instanceof K){let n=e.elements,i=bt(n,(s,o)=>{if(s instanceof y){let u=s.key,l=u===""?t+"-"+S(o):t+"-"+u;return tt(s,l)}else return tt(s,t)});return new K(i,t)}else return e}function pn(e,t){return e(W(t,r=>{let n=r[0],i=r[1];return tt(i,n)}))}function dn(e){return new me(e)}function Ri(e){return Le(e,c([]),(t,r)=>{if(r instanceof K){let n=r.elements;return le(n,t)}else return p(r,t)})}function mn(e){let t=Ri(e);return new K(t,"")}var Zt=class extends a{constructor(t){super(),this.dict=t}};function _n(){return new Zt(C())}var rt=class extends a{constructor(t){super(),this[0]=t}},nt=class extends a{constructor(t,r){super(),this[0]=t,this[1]=r}},it=class extends a{constructor(t,r){super(),this[0]=t,this[1]=r}};function xn(e){return g(e.created,C())&&g(e.removed,_n())&&g(e.updated,C())}var st=class extends a{constructor(t){super(),this[0]=t}},ot=class extends a{constructor(t,r){super(),this[0]=t,this[1]=r}},Te=class extends a{constructor(t){super(),this[0]=t}},P=class extends a{constructor(t){super(),this[0]=t}},Ce=class extends a{constructor(t,r){super(),this[0]=t,this[1]=r}},ut=class extends a{constructor(t,r){super(),this[0]=t,this[1]=r}};var Ne=class extends a{},lt=class extends a{constructor(t,r){super(),this[0]=t,this[1]=r}},ct=class extends a{constructor(t){super(),this[0]=t}},ft=class extends a{constructor(t){super(),this[0]=t}};function Qt(e,t,r){let n,i=[{prev:e,next:t,parent:e.parentNode}];for(;i.length;){let{prev:s,next:o,parent:u}=i.pop();for(;o.subtree!==void 0;)o=o.subtree();if(o.content!==void 0)if(s)if(s.nodeType===Node.TEXT_NODE)s.textContent!==o.content&&(s.textContent=o.content),n??=s;else{let l=document.createTextNode(o.content);u.replaceChild(l,s),n??=l}else{let l=document.createTextNode(o.content);u.appendChild(l),n??=l}else if(o.tag!==void 0){let l=Hi({prev:s,next:o,dispatch:r,stack:i});s?s!==l&&u.replaceChild(l,s):u.appendChild(l),n??=l}else if(o.elements!==void 0)for(let l of pt(o))i.unshift({prev:s,next:l,parent:u}),s=s?.nextSibling}return n}function Hi({prev:e,next:t,dispatch:r,stack:n}){let i=t.namespace||"http://www.w3.org/1999/xhtml",s=e&&e.nodeType===Node.ELEMENT_NODE&&e.localName===t.tag&&e.namespaceURI===(t.namespace||"http://www.w3.org/1999/xhtml"),o=s?e:i?document.createElementNS(i,t.tag):document.createElement(t.tag),u;if(ze.has(o))u=ze.get(o);else{let $=new Map;ze.set(o,$),u=$}let l=s?new Set(u.keys()):null,f=s?new Set(Array.from(e.attributes,$=>$.name)):null,x=null,b=null,O=null;if(s&&t.tag==="textarea"){let $=t.children[Symbol.iterator]().next().value?.content;$!==void 0&&(o.value=$)}let I=[];for(let $ of t.attrs){let w=$[0],L=$[1];if($.as_property)o[w]!==L&&(o[w]=L),s&&f.delete(w);else if(w.startsWith("on")){let F=w.slice(2),$t=r(L,F==="input");u.has(F)||o.addEventListener(F,Ie),u.set(F,$t),s&&l.delete(F)}else if(w.startsWith("data-lustre-on-")){let F=w.slice(15),$t=r(Gi);u.has(F)||o.addEventListener(F,Ie),u.set(F,$t),o.setAttribute(w,L)}else w.startsWith("delegate:data-")||w.startsWith("delegate:aria-")?(o.setAttribute(w,L),I.push([w.slice(10),L])):w==="class"?x=x===null?L:x+" "+L:w==="style"?b=b===null?L:b+L:w==="dangerous-unescaped-html"?O=L:(o.getAttribute(w)!==L&&o.setAttribute(w,L),(w==="value"||w==="selected")&&(o[w]=L),s&&f.delete(w))}if(x!==null&&(o.setAttribute("class",x),s&&f.delete("class")),b!==null&&(o.setAttribute("style",b),s&&f.delete("style")),s){for(let $ of f)o.removeAttribute($);for(let $ of l)u.delete($),o.removeEventListener($,Ie)}if(t.tag==="slot"&&window.queueMicrotask(()=>{for(let $ of o.assignedElements())for(let[w,L]of I)$.hasAttribute(w)||$.setAttribute(w,L)}),t.key!==void 0&&t.key!=="")o.setAttribute("data-lustre-key",t.key);else if(O!==null)return o.innerHTML=O,o;let E=o.firstChild,xe=null,$e=null,Me=null,we=at(t).next().value;if(s&&we!==void 0&&we.key!==void 0&&we.key!==""){xe=new Set,$e=$n(e),Me=$n(t);for(let $ of at(t))E=Vi(E,$,o,n,Me,$e,xe)}else for(let $ of at(t))n.unshift({prev:E,next:$,parent:o}),E=E?.nextSibling;for(;E;){let $=E.nextSibling;o.removeChild(E),E=$}return o}var ze=new WeakMap;function Ie(e){let t=e.currentTarget;if(!ze.has(t)){t.removeEventListener(e.type,Ie);return}let r=ze.get(t);if(!r.has(e.type)){t.removeEventListener(e.type,Ie);return}r.get(e.type)(e)}function Gi(e){let t=e.currentTarget,r=t.getAttribute(`data-lustre-on-${e.type}`),n=JSON.parse(t.getAttribute("data-lustre-data")||"{}"),i=JSON.parse(t.getAttribute("data-lustre-include")||"[]");switch(e.type){case"input":case"change":i.push("target.value");break}return{tag:r,data:i.reduce((s,o)=>{let u=o.split(".");for(let l=0,f=s,x=e;l<u.length;l++)l===u.length-1?f[u[l]]=x[u[l]]:(f[u[l]]??={},x=x[u[l]],f=f[u[l]]);return s},{data:n})}}function $n(e){let t=new Map;if(e)for(let r of at(e)){let n=r?.key||r?.getAttribute?.("data-lustre-key");n&&t.set(n,r)}return t}function Vi(e,t,r,n,i,s,o){for(;e&&!i.has(e.getAttribute("data-lustre-key"));){let l=e.nextSibling;r.removeChild(e),e=l}if(s.size===0)return n.unshift({prev:e,next:t,parent:r}),e=e?.nextSibling,e;if(o.has(t.key))return console.warn(`Duplicate key found in Lustre vnode: ${t.key}`),n.unshift({prev:null,next:t,parent:r}),e;o.add(t.key);let u=s.get(t.key);if(!u&&!e)return n.unshift({prev:null,next:t,parent:r}),e;if(!u&&e!==null){let l=document.createTextNode("");return r.insertBefore(l,e),n.unshift({prev:l,next:t,parent:r}),e}return!u||u===e?(n.unshift({prev:e,next:t,parent:r}),e=e?.nextSibling,e):(r.insertBefore(u,e),n.unshift({prev:u,next:t,parent:r}),e)}function*at(e){for(let t of e.children)yield*pt(t)}function*pt(e){if(e.elements!==void 0)for(let t of e.elements)yield*pt(t);else e.subtree!==void 0?yield*pt(e.subtree()):yield e}var er=class e{static start({init:t,update:r,view:n},i,s){if(!Fe())return new m(new Be);let o=i instanceof HTMLElement?i:document.querySelector(i);if(!o)return new m(new dt(i));let u=new e(o,t(s),r,n);return new d(l=>u.send(l))}constructor(t,[r,n],i,s){this.root=t,this.#e=r,this.#s=i,this.#r=s,this.#t=window.requestAnimationFrame(()=>this.#n(n.all.toArray(),!0))}root;send(t){if(t instanceof Te){if(t[0]instanceof ft){this.#t=window.cancelAnimationFrame(this.#t),this.#i=[],this.#e=t[0][0];let r=this.#r(this.#e),n=(s,o=!1)=>u=>{let l=s(u);l instanceof d&&this.send(new P(l[0],o))},i=this.root.firstChild??this.root.appendChild(document.createTextNode(""));Qt(i,r,n)}}else if(t instanceof P){let r=t[0],n=t[1]??!1;this.#i.push(r),n?(this.#t=window.cancelAnimationFrame(this.#t),this.#n()):this.#t||(this.#t=window.requestAnimationFrame(()=>this.#n()))}else if(t instanceof Ce){let r=t[0],n=t[1];this.root.dispatchEvent(new CustomEvent(r,{detail:n,bubbles:!0,composed:!0}))}else if(t instanceof Ne)for(this.#t=window.cancelAnimationFrame(this.#t),this.#e=null,this.#s=null,this.#r=null,this.#i=null;this.root.firstChild;)this.root.firstChild.remove()}#e;#s;#r;#i=[];#t;#n(t=[],r=!1){if(this.#t=void 0,!this.#o(t,r))return;let n=this.#r(this.#e),i=(o,u=!1)=>l=>{let f=o(l);f instanceof d&&this.send(new P(f[0],u))},s=this.root.firstChild??this.root.appendChild(document.createTextNode(""));Qt(s,n,i)}#o(t=[],r=!1){for(;this.#i.length>0;){let n=this.#i.shift(),[i,s]=this.#s(this.#e,n);r||=this.#e!==i,t=t.concat(s.all.toArray()),this.#e=i}for(;t.length>0;)t.shift()({dispatch:u=>this.send(new P(u)),emit:(u,l)=>this.root.dispatchEvent(new CustomEvent(u,{detail:l,bubbles:!0,composed:!0})),select:()=>{}});return this.#i.length>0?this.#o(t,r):r}},wn=er.start;var tr=class e{static start({init:t,update:r,view:n,on_attribute_change:i},s){let o=new e(t(s),r,n,i);return new d(u=>o.send(u))}constructor([t,r],n,i,s){this.#e=t,this.#s=n,this.#i=i,this.#t=i(t),this.#l=s,this.#n=new Map,this.#o=un(this.#t),this.#u(r.all.toArray())}send(t){if(t instanceof st){for(let r of t[0]){let n=this.#l.get(r[0]);if(!n)continue;let i=n(r[1]);i instanceof m||this.#r.push(i)}this.#u()}else if(t instanceof ot)this.#r=this.#r.concat(t[0].toArray()),this.#u(t[1].all.toArray());else if(!(t instanceof Te))if(t instanceof P)this.#r.push(t[0]),this.#u();else if(t instanceof Ce){let r=new nt(t[0],t[1]);for(let[n,i]of this.#n)i(r)}else if(t instanceof ut){let r=this.#o.get(t[0]);if(!r)return;let n=r(t[1]);if(n instanceof m)return;this.#r.push(n[0]),this.#u()}else if(t instanceof lt){let r=Jt(this.#l),n=new it(r,this.#t);this.#n=this.#n.set(t[0],t[1]),t[1](n)}else t instanceof ct&&(this.#n=this.#n.delete(t[0]))}#e;#s;#r;#i;#t;#n;#o;#l;#u(t=[]){if(!this.#c(!1,t))return;let r=this.#i(this.#e),n=elements(this.#t,r);if(!xn(n)){let i=new rt(n);for(let[s,o]of this.#n)o(i)}this.#t=r,this.#o=n.handlers}#c(t=!1,r=[]){for(;this.#r.length>0;){let n=this.#r.shift(),[i,s]=this.#s(this.#e,n);t||=this.#e!==i,r=r.concat(s.all.toArray()),this.#e=i}for(;r.length>0;)r.shift()({dispatch:u=>this.send(new P(u)),emit:(u,l)=>this.root.dispatchEvent(new CustomEvent(u,{detail:l,bubbles:!0,composed:!0})),select:()=>{}});return this.#r.length>0?this.#c(t,r):t}},Ji=tr.start,Fe=()=>globalThis.window&&window.document;var rr=class extends a{constructor(t,r,n,i){super(),this.init=t,this.update=r,this.view=n,this.on_attribute_change=i}};var dt=class extends a{constructor(t){super(),this.selector=t}},Be=class extends a{};function gn(e,t,r){return new rr(e,t,r,new _)}function yn(e,t,r){return V(!Fe(),new m(new Be),()=>wn(e,t,r))}function mt(e){return dn(e)}function nr(e,t){return D("article",e,t)}function ir(e,t){return D("header",e,t)}function sr(e,t){return D("main",e,t)}function _e(e,t){return D("div",e,t)}function or(e,t){return D("span",e,t)}function kn(e){return D("iframe",e,c([]))}function ur(e,t){return D("button",e,t)}function lr(e){return D("input",e,c([]))}function cr(e,t){return cn(e,t)}function fr(e){return cr("click",t=>new d(e))}var On=window?.location?.href,ar=()=>On?new d(Xi(new URL(On))):new m(void 0);var Ln=e=>{window.history.pushState({},"",tn(e)),window.requestAnimationFrame(()=>{e.fragment[0]&&document.getElementById(e.fragment[0])?.scrollIntoView()}),window.dispatchEvent(new CustomEvent("modem-push",{detail:e}))};var Xi=e=>new de(e.protocol?new h(e.protocol.slice(0,-1)):new _,new _,e.hostname?new h(e.hostname):new _,e.port?new h(Number(e.port)):new _,e.pathname,e.search?new h(e.search.slice(1)):new _,e.hash?new h(e.hash.slice(1)):new _);var Qi=new de(new _,new _,new _,new _,"",new _,new _);function pr(e,t,r){return nn(n=>V(!Fe(),void 0,()=>Ln(Qi.withFields({path:e,query:t,fragment:r}))))}var vn=e=>e.blur(),jn=e=>e.value="";var dr=class extends a{constructor(t,r,n,i){super(),this.next=t,this.expanded=r,this.order=n,this.frames=i}},ht=class extends a{constructor(t){super(),this.src=t}},_t=class extends a{constructor(t){super(),this.id=t}},xt=class extends a{constructor(t){super(),this.id=t}};function mr(e,t){if(e.hasLength(0))return pr("/",new _,new _);{let r=en(Oe(e,n=>{let s=ce(t,n);return J(s,o=>yr(S(n),o))}));return pr("/",new h(r),new _)}}function ts(e){let t=ar();if(!t.isOk())throw ye("assignment_no_match","hexdeck",42,"init","Assignment pattern did not match",{value:t});let r=t[0],n=(()=>{let f=ke(r.query,void 0),x=He(f,Qr),b=J(x,O=>Le(O,[c([]),C()],(I,E)=>{let xe=I[0],$e=I[1],Me=E[0],we=E[1],$=We(Me);if($.isOk()){let w=$[0],L=p(w,xe),F=G($e,w,we);return[L,F]}else return[xe,$e]}));return jt(b,[c([]),C()])})(),i=n[0],s=n[1],o=H(i,0,$r)+1,u=new dr(o,new _,i,s),l=mr(i,s);return[u,l]}function rs(e,t){if(t instanceof ht){let r=t.src,n=e.next+1,i=p(n,e.order),s=G(e.frames,n,r),o=e.withFields({next:n,order:i,frames:s}),u=mr(i,s);return[o,u]}else if(t instanceof _t){let r=t.id;return[e.withFields({expanded:g(new h(r),e.expanded)?new _:new h(r)}),Qe()]}else if(t instanceof xt){let r=t.id,n=g(new h(r),e.expanded)?new _:e.expanded,i=kr(e.order,l=>l!==r),s=Xe(e.frames,r),o=e.withFields({expanded:n,order:i,frames:s}),u=mr(i,s);return[o,u]}else{let r=t.id,n=t.src;return[e.withFields({frames:G(e.frames,r,n)}),Qe()]}}function ns(e,t,r,n){return nr(p(k("h-full p-2 transition-width"),r),c([_e(c([k("h-full w-full flex flex-col bg-white rounded-xl")]),c([ir(c([k("flex items-center gap-2 p-2")]),c([ur(c([k("size-3 rounded-full bg-red-500 hover:bg-red-600"),fr(new xt(e))]),c([])),ur(c([k("size-3 rounded-full bg-green-500 hover:bg-green-600"),fr(new _t(e))]),c([])),_e(c([k("text-sm flex-1 flex px-2 py-1 rounded-lg bg-gray-100")]),c([or(c([k("text-gray-400")]),c([mt("https://hexdocs.pm/")])),lr(c([k("bg-transparent flex-1"),fn(t)]))]))])),sr(c([k("flex-1")]),n)]))]))}function is(e){return B(Ee("key",je)(e),t=>V(t!=="Enter",new m(c([])),()=>B(Ee("target",Tr)(e),r=>B(Ee("value",je)(r),n=>V(n==="",new m(c([])),()=>(vn(r),jn(r),new d(new ht(n))))))))}function ss(){return nr(c([k("h-full p-2 w-[396px]")]),c([_e(c([k("h-full w-full flex flex-col bg-white rounded-xl")]),c([ir(c([k("flex items-center gap-2 p-2")]),c([_e(c([k("text-sm flex-1 px-2 py-1 rounded-lg bg-gray-100")]),c([or(c([k("text-gray-400")]),c([mt("https://hexdocs.pm/")])),lr(c([k("bg-transparent"),cr("keydown",is)]))]))])),sr(c([k("flex-1 flex items-center justify-center")]),c([mt("Search for a new package...")]))]))]))}function os(e){return _e(c([k("min-w-screen h-screen overflow-x-scrollspace-x-2 p-6"),k("snap-x whitespace-nowrap [&>*]:inline-block")]),c([pn(mn,H(e.order,c([]),(t,r)=>{let n=ce(e.frames,r);if(!n.isOk())throw ye("assignment_no_match","hexdeck",155,"","Assignment pattern did not match",{value:n});let i=n[0],s=k(g(new h(r),e.expanded)?"w-[960px]":"w-[480px]"),o=ns(r,i,c([s]),c([kn(c([k("w-full h-full"),an("https://hexdocs.pm/"+i)]))]));return p([S(r),o],t)})),ss()]))}function En(){let e=gn(ts,rs,os),t=yn(e,"#app",void 0);if(!t.isOk())throw ye("assignment_no_match","hexdeck",25,"main","Assignment pattern did not match",{value:t})}En();
